<div class="accordion-test">

    <div class="row">
        <div class="col-md-11" style="margin-left: 2%; margin-right: 2%;">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h2>{{controller.evento.fecha|date:'dd/MM/yyyy'}} {{controller.evento.cargo.descripcion}} {{controller.evento.hora_inicial}} {{controller.evento.nombre}}</h2> 
                    <label class="control-label">{{controller.sitio.codigoSitio}} - {{controller.sitio.nombreSitio}}</label>
                        <a class='btn btn-default' style="float: right" ng-click="controller.atras()"> Volver</a>
                    
                </div>

            </div>
            <div class='panel panel-default'>
                <div class="panel-heading">
                    <h4>Toma de Asistencia</h4> 
                </div>
                <div class="panel-body">

                    <form id="reviewForm" name="reviewForm" class="form-inline">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:30%;"> </td>
                                <td style="width:20%;" > <label>Sin lector de Huella <input type="checkbox" id="sinBiometrico" name="sinBiometrico" ng-model="controller.sinBiometrico"></label></td>
                                <td style="width:50%;"> </td>
                            </tr>

                            <tr>
                                <td> </td>
                                <td> 

                                    <div ng-show="controller.sinBiometrico === true" class="form-group">
                                        <label class="control-label" for="causaNoBiometrico">Observación:</label>
                                        <select id="tipoDoc" ng-model="controller.causaNoBiometrico" ng-options="causa.name for causa in controller.causasBiometrico" class="form-control" ></select>
                                    </div>

                                </td>
                                <td> </td>
                            </tr>

                            <tr>
                                <td> 
                                    <label>Documento</label>
                                    <input type="number" id="documento" name="input" ng-model="controller.documento" ng-keydown="controller.key($event)" >

                                </td>
                                <td><div  id="inside"></div>  <div ng-show="controller.mostrarBotonAsistenciaManual === true" > <a class="btn btn-primary"  ng-click="controller.asistenciaManual()">Marcar Asistencia Manual</a>  </div> </td>
                                <td><img   ng-src={{controller.imagen}}></td>
                            </tr>
                            <tr>
                                <td>
                                    <span ng-bind="controller.empleado.nombre1 + ' ' + controller.empleado.nombre2 + ' ' + controller.empleado.apellido1 + ' ' + controller.empleado.apellido2"></span>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>
                                    <span ng-bind="'Cargo:'+controller.asignacion.descripcion"></span>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>
                                </td>
                                <td></td>
                                <td>
                                    <label> {{controller.totalAsistentes + ' de ' + controller.totalRegistros}} </label>

                                </td>
                            </tr>                                    
                            <tr>
                                <td style="width:30%;"></td>
                                <td style="width:20%;"></td>
                                <td style="width:50%;">
                                    <div class="progress">
                                        <div class="progress-bar progress-bar-warning progress-bar-striped active" role="progressbar"
                                             aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{controller.totalAsistentes * 100 / controller.totalRegistros}}%">
                                            {{((controller.totalAsistentes * 100 / controller.totalRegistros) + "").substring(0, 4)}}%
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>    
                    </form>  

                </div>
            </div>
            <div class='panel panel-default'>
                <div class="panel-heading">
                    <h4>Listado de Personal</h4>
                    <div class="input-group col-md-12">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                        <input type="text" class="form-control" placeholder="Buscar" ng-model="search">

                    </div>
                </div>

                <div class="panel panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-primary">
                                <div class="panel-body">                                      
                                    <table  class="table table-bordered table-hover" >
                                        <thead>
                                            <tr>
                                                <th>Cargo</th>
                                                <th>Identificación</th>
                                                <th>Apellido1</th>
                                                <th>Apellido2</th>
                                                <th>Nombre1</th>
                                                <th>Nombre2</th>
                                                <th>Celular</th>
                                                <th>Ubicación</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="color:#111" ng-style="ubica.asistio === '1' ? {'background-color': '#FFFFFF'} : {'background-color': '#F2DEDE'}" ng-repeat="ubica in controller.personasAsignadas| filter:search | orderBy:'descripcion' ">

                                                <td>{{ubica.descripcion}}</td>
                                                <td>{{ubica.nrodoc}}</td>
                                                <td>{{ubica.apellido1}}</td>
                                                <td>{{ubica.apellido2}}</td>
                                                <td>{{ubica.nombre1}}</td>
                                                <td>{{ubica.nombre2}}</td>
                                                <td>
                                                    {{ubica.celular}}
                                                </td>
                                                <td>{{ubica.ubicacion}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


